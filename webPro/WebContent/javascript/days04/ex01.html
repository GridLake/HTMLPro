<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>2019. 4. 10. 오전 9:05:05</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" type="text/css" href="">
<style>

</style>
</head>
<body>
<br>
<input type="text" id="rrn7" maxlength="7" autofocus="autofocus"
 onkeydown="return rrn7_keydown();" onkeypress="return rrn7_keypress();" onkeyup="rrn7_keyup();"/>
 <p id="demo"></p>
<script>
 var rrn7 = document.getElementById("rrn7");
 var save = "";
 function rrn7_keydown() {
	 // console.log("rrn7_keydown / " + rrn7.value.length);
	 var pattern = /^[^0-9]+[\b]$/; // 안의 ^와 바깥의 ^ 의미 다름, \D = [^0-9],  \d = [0-9]
	 console.log(event.keyCode);
	 if (pattern.test(String.fromCharCode(event.keyCode))) { // 65->'A'
		alert('숫자만 입력하세요');
	 	return false;
	 }
	 if(event.keyCode == 8) {
		 save = save.slice(0, -1);
	 }
	 else save += String.fromCharCode(event.keyCode);
	 console.log(save);
 }
 
 var rrn7value ="";
 function rrn7_keypress() {
	 // console.log("rrn7_keypress / " + rrn7.value.length);
	 var rrn7length = rrn7.value.length;
	 if (rrn7length >= 1) {
		rrn7.value += "*";
	 	return false;
	 }
	 /* else if(rrn7length == 0) {
	 	rrn7value += String.fromCharCode(event.keyCode);
	 } */
 } 
 function rrn7_keyup() {
	 // console.log("rrn7_keyup / " + rrn7.value.length);
	 var demo = document.getElementById("demo");
	 if( event.srcElement.value.length == 7 ) {
		  demo.innerHTML += save;
 	 }
 }
</script>
</body>
</html>